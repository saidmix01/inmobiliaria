import{w,v as c}from"./runtime-dom.esm-bundler.TiLjfoSv.js";import{_ as g}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as m,a as t,d as v,w as p,b as _,t as h,e as a,f as u}from"./runtime-core.esm-bundler.CZed73ja.js";const y={__name:"LoginForm",setup(f,{expose:e}){e();const n="https://inmobiliariabackend-cxa2eegkg0dpdjcs.centralus-01.azurewebsites.net",o=a(""),i=a(""),r=a(""),d={apiUrl:n,email:o,password:i,error:r,handleLogin:async()=>{r.value="";try{const l=await(await fetch(`${n}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.value,password:i.value})})).json();l.status?(localStorage.setItem("token",l.token),window.location.href="/admin"):r.value=l.message||"Error al iniciar sesión"}catch{r.value="No se pudo conectar con el servidor"}},ref:a};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},x={class:"min-vh-100 d-flex align-items-center justify-content-center bg-light"},k={class:"card shadow p-4",style:{"max-width":"400px",width:"100%"}},S={class:"mb-3"},j={class:"mb-3"},L={key:0,class:"alert alert-danger mt-3 text-center"};function N(f,e,n,o,i,r){return u(),m("div",x,[t("div",k,[e[5]||(e[5]=t("h2",{class:"text-center mb-4"},"Iniciar sesión",-1)),t("form",{onSubmit:w(o.handleLogin,["prevent"])},[t("div",S,[e[2]||(e[2]=t("label",{class:"form-label"},"Correo",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.email=s),type:"email",class:"form-control",placeholder:"tu@correo.com",required:""},null,512),[[c,o.email]])]),t("div",j,[e[3]||(e[3]=t("label",{class:"form-label"},"Contraseña",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),type:"password",class:"form-control",placeholder:"••••••",required:""},null,512),[[c,o.password]])]),e[4]||(e[4]=t("button",{type:"submit",class:"btn btn-primary w-100"},[t("i",{class:"bi bi-box-arrow-in-right me-2"}),_(" Entrar ")],-1)),o.error?(u(),m("div",L,h(o.error),1)):v("",!0)],32)])])}const B=g(y,[["render",N]]);export{B as default};
